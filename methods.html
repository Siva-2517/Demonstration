<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Methods</title>
</head>
<body>
    <script>
    function double(x) {
        return x * 2;
    }
    let a=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10];
    let b = a.map(double);
    console.log(b); 
    let c=a.map(n=>(n*3));
    console.log(c);


    function is(n){
        return n % 2 === 0;
    }
    let arr=[1,2,3,4,5,6,7,8,9,10];
    for(let i=0;i<arr.length;i++){
        if(is(arr[i])){
            console.log(arr[i] + " " + is(arr[i]));
        }
    }


    let odd = arr.filter(n => n % 2 !== 0);
    console.log(odd);


    let mul5=[13,15,17,19,20,26,31,35,40];
    let mul=mul5.filter(n=>n%5===0);
    console.log(mul);

    let a1=[1,2,3,4,5,6];
    let pro=a1.reduce((acc, n)=> acc*n,1);
    console.log(pro);


    let a2=[1,2,3,4,5,6];
    let sum = a2.map(n => n * 3)
                .filter(n => n % 2 === 0)
                .reduce((acc, n) => acc + n, 0);
    console.log("Sum of even triple number " + sum);

    let y=[1,2,3,4,5,6];
    const [one, two, ...rest] = y;
    console.log(one);
    console.log(two);
    console.log(rest);
    console.log("Spread operation");
    let num=[0,...y,7,8,9,10];
    console.log(num);

    const obj1={x:1,y:2};
    const obj2={a:3,b:4};
    
    const Spread={...obj1,...obj2};
    console.log(Spread);
    console.log("\n");


    console.log("Promises(Microtask  & Macrotask)");
    const promise = new Promise((resolve, reject) => {
        setTimeout(() => {
            const is=true;
            if(is){
                resolve('Promise resolved successfully!');
            } else {
                reject('Promise rejected!');
            }
        }, 0);
    });
    console.log('Before promise execution');
    promise.then(message => {
        console.log(message);
    }).catch(error => {
        console.error(error);
    }).finally(() => {
        console.log('Promise execution completed');
    });


    console.log('After promise execution');
    console.log("Fetch API");
    fetch('https://jsonplaceholder.typicode.com/posts/1')
        .then(response => response.json())
        .then(data => {
            console.log(data.title);
        })
        .catch(error => {
            console.error('Error fetching data:', error);
        }); 


    console.log("\n Async & Await \n");
    async function fetchApi() {
        try {
            const res = await fetch('https://jsonplaceholder.typicode.com/posts/1');
            const data = await res.json();
            data.map((user) => {
                console.log(user.title);
            })
        } catch (error) {
            console.error('Error fetching data:', error);
        }
    }
    fetchApi();


    console.log("String literals");
    let name='siva';
    let age=21;
    let str=`My name is ${name} and my age is ${age}`;
    </script>
</body>
</html>